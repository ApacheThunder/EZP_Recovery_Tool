====== NDS Backup Tool Slot2 V0.32 ======

Slot-2用のマジコンを利用して、NDS ROMのSAVEデータのバックアップ/レストア
およびROMイメージのバックアップを行うツールです。
NDS ROMのSAVEデータが破損する等の不具合が発生することが考えられますので
自己責任にてご利用ください。


＜導入方法＞
「NDS_Backup_Tool_Slot2.nds」は、DLDI対応ですので利用するマジコンに合わせて
パッチ等の処理をしてください。デフォルトでは、未導入になっています。

・「NDS_Backup_Tool_Slot2.ini」をエディタ等で使用環境に合わせて修正します。
・SDのルートに、「NDS_Backup_Tool_Slot2.nds(bin)」と「NDS_Backup_Tool_Slot2.ini」をコピーします。
　「NDS_Backup_Tool_Slot2.ini」が無い場合は、初期値での動作になります(通常は無くても大丈夫)。

＜NDS_Backup_Tool_Slot2.ini＞
各種動作環境の設定を記入します。'#'と'!'以降のその行の文字はコメントとして扱われます。
　・FileDir	
　　　バックアップしたファイルを管理するSDのディレクトリを指定します(初期値は、/NDS_Backup)。
　・SaveFile	0
　　　ROMのSAVEをバックアップする時のSAVファイルのサイズを指定します。指定した数値のサイズの
　　　単位はKByteになります。0を指定した場合はROMのSAVEのサイズになります(初期値は、0)。
　　　R4/M3Sの場合は512、DSLinkの場合は520を指定してください。
　・Trim
　　　NDS ROMをバックアップする時に未使用エリアをトリムする場合に指定します(初期値は、Trimなし)。


＜使用方法＞
・「NDS_Backup_Tool_Slot2」を起動します。
・<L><R>で、Save Backup・Save Restore・Rom Backupを切り替えます。

　(Save Backup)
　・<A>：指定したSAVファイルの内容を、ROMのSAVEの内容でバックアップとして更新します。
　・<B>：新規のSAVファイルを作成して、ROMのSAVEの内容をバックアップします。
　　　　　自動的に作成されるSAVファイルの名前は、GameTitle_Gamecode_No.savです。
　　　　　Noは、00〜99まで自動的に算出されます。

　(Save Restore)
　・<A>：指定したSAVファイルの内容を、ROMのSAVEにレストア(書込)します。
　・<B>：ROMのSAVEエリアを0xFFで初期化します。

　(Rom Backup)
　・<A>：指定したNDSファイルの内容を、ROMのダンプした内容でバックアップとして更新します。
　・<B>：新規のNDSファイルを作成して、ROMのダンプした内容をバックアップします。
　　　　　自動的に作成されるNDSファイルの名前は、GameTitle_GamecodeRomVer.ndsです。
　　　　　既に同じ名前のファイルがある場合は、自動的に上書されます。

　(共通)
　・<X>：Slot-1のNDS ROMを、交換します。
　・<START>：プログラムを終了して、NDSの電源を切ります。



＜注意等＞
・Slot-2用のDLDIでは、ファイルの作成・書込が不安定な場合があります。
　使用するSDは必ずバックアップ等を行ってから使用してください。
・ROMのSAVEタイプが判定できない場合は、Unknownと表示されます。Unknownと表示されたり、あきらかに
　異なったSAVEタイプが表示されるROMや何度セットしてもROMセットのメッセージが表示されるROMが
　ありましたらご連絡ください。
・ROMカードによって、一度では正しく認識できない場合があります(何度か抜差しを行うことで認識できる場合があります)。
　Macronix1024Mbit(128MB)等は、デイテルの「認識向上アダプタ」を使用するか、基盤の端子を調整してください。




＜謝辞＞
・ROMの構造・暗号化は、GBATEKのリファレンスを参考にさせていただきました
    (http://nocash.emubase.de/gbatek.htm#dscartridgesencryptionfirmware)。
・SAVEタイプの判定およびFLASHタイプのRead/Write/Eraseルーチンは、SaTa氏のREINを参考にさせて
　いただきました。
・日本語フォントは、たろサ氏が公開している東雲ゴシック12dotのデータを使わせていただきました。
・今回のアイコンは、じょんさんからも頂いたものを使用しました
SaTaさん・たろサさん・じょんさん、テスト版の評価に参加していただいた皆様、ありがとうございます。


＜履歴＞
・V0.1  2007/8/05 テスト版。Wifi版を元に、Slot-2版を作成
・V0.2  2007/8/13 正式版。気になるところ(表示系バグ、カード認識等)を少し修正
		　Flash 4Mタイプの自動判定で、ゼルダ・ポケモンを強制対応(えいご漬け・家計ダイアリーは弄らず)
		　(Save Restore)の<B>で、SAVE領域の初期化を追加
・V0.3  2007/8/14 iniファイルにて、Saveサイズ・Trim有無・SDのディレクトリの指定を追加
　　　　　　　　　新規のROMバックアップ時のファイル名にROM Versionを追加
・V0.31 2007/8/16 SaveタイプがEEPROM 64K(8KB)/512K(64KB)の時の判別方法を変更
・V0.32 2008/6/29 暫定で「大合奏！バンドブラザーズＤＸ」のSAVEに対応(未テスト)


====== 重要なお願い ====================================================================
バックアップしたROMイメージの使用は、個人での利用に限定してください。
バックアップしたROMイメージを、販売・譲渡・配布等の行為は絶対に行わないでください。
また、このツールはこれらの不正行為を助長するものではありません。
========================================================================================

by Rudolph (皇帝)
